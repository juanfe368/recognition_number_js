var numIntentos=0;function recognize_image(){document.getElementById("transcription").value="(Reconociendo...)";OCRAD(document.getElementById("c"),{numeric:true,},function(a){document.getElementById("transcription").value=a;this.getCalificacion(document.getElementById("transcription").value);reset_canvas()})}function getImageCanvas(){var d=document.getElementById("c");var a=d.getContext("2d");var b=document.getElementById("c");a.drawImage(b,10,10)}var c=document.getElementById("c"),o=c.getContext("2d");function reset_canvas(){o.fillStyle="white";o.fillRect(0,0,c.width,c.height);o.fillStyle="black"}var drag=false,lastX,lastY;c.onmousedown=function(a){drag=true;lastX=0;lastY=0;a.preventDefault();c.onmousemove(a)};c.onmouseup=function(a){drag=false;a.preventDefault();runOCR()};c.onmousemove=function(g){g.preventDefault();var k=c.getBoundingClientRect();var a=5;function b(d,e){o.beginPath();o.moveTo(d+a,e);o.arc(d,e,a,0,Math.PI*2);o.fill()}if(drag){var l=g.clientX-k.left,j=g.clientY-k.top;if(lastX&&lastY){var n=l-lastX,m=j-lastY;var h=Math.sqrt(n*n+m*m);for(var f=1;f<h;f+=2){b(lastX+n/h*f,lastY+m/h*f)}}b(l,j);lastX=l;lastY=j}};document.body.ondragover=function(){document.body.className="dragging";return false};document.body.ondragend=function(){document.body.className="";return false};document.body.onclick=function(){document.body.className=""};document.body.ondrop=function(a){a.preventDefault();document.body.className="";picked_file(a.dataTransfer.files[0]);return false};var lastWorker;function runOCR(a,d){document.getElementById("output").className="processing";var b=Date.now();if(!d){a=o.getImageData(0,0,c.width,c.height)}}function clearFrame(){var a=document.getElementById("transcription");a.innerHTML="";reset_canvas()}function cargarFX(){try{var a=fx.canvas();return a}catch(b){alert(b);return}}function filter1(b){var d=cargarFX();d.id="canvasRespuest";d.name="canvasRespuest";var a=d.texture(b);d.draw(a).edgeWork(10).update();b.parentNode.insertBefore(d,b);b.parentNode.removeChild(b)}function loadOperacion(){numIntentos=2;var d=Math.round(Math.random()*10);var b=Math.round(Math.random()*10);if(b>d){d=b+1}document.getElementById("inputField1").value=d;document.getElementById("inputField2").value=b;document.getElementById("operaField").value=getOperationRandom();var f=document.getElementById("inputField1").value;var e=document.getElementById("inputField2").value;var a=document.getElementById("operaField").value;document.getElementById("inputFieldRespuest").value=getRespuest(a,f,e)}function getCalificacion(b){var a=document.getElementById("inputFieldRespuest").value;if(a==b.trim()){document.getElementById("divAlert").style.display="none";document.getElementById("divRespuestInCorrect").style.display="none";document.getElementById("divRespuestCorrect").style.display="initial";respuestasAcertadas++}else{if(a!=b.trim()&&numIntentos!=0){document.getElementById("divAlert").style.display="initial";document.getElementById("divRespuestInCorrect").style.display="none";document.getElementById("divRespuestCorrect").style.display="none";numIntentos--;return}else{document.getElementById("divAlert").style.display="none";document.getElementById("divRespuestCorrect").style.display="none";document.getElementById("divRespuestInCorrect").style.display="initial";document.getElementById("divRespuestInCorrect").innerHTML=" La Respuesta correcta era: "+a;respuetsasIncorrectas++}}cantidadPreguntas--;if(cantidadPreguntas==0){endGame()}loadOperacion()}function hiddenRespuests(){document.getElementById("divRespuestInCorrect").style.display="none";document.getElementById("divRespuestCorrect").style.display="none"}function getOperationRandom(){var b=["+","-"];var a=Math.round(Math.random()*1);return b[a]}function getRespuest(a,e,d){var b=0;if(a=="+"){b=parseInt(e)+parseInt(d)}else{if(a=="-"){b=parseInt(e)-parseInt(d)}}return b}var cronometro;function carga(){var e=0;var b=0;var d=document.getElementById("segundos");var a=document.getElementById("minutos");cronometro=setInterval(function(){if(e==60){e=0;b++;endGame()}d.innerHTML=e+" Segundos";e++},1000)}function startGame(){intentosRespuestas=0;cantidadPreguntas=10;respuestasAcertadas=0;respuetsasIncorrectas=0;numIntentos=2;carga();loadOperacion();hiddenRespuests();document.getElementById("butStart").disabled=true}var intentosRespuestas=0;var cantidadPreguntas=10;var respuestasAcertadas=0;var respuetsasIncorrectas=0;function endGame(){document.getElementById("butStart").disabled=false;hiddenRespuests();showResults();clearInterval(cronometro)}function showResults(){$("#myModalResults").modal("show");var a=document.getElementById("paragraphResults");a.innerHTML="Respuestas correctas: "+respuestasAcertadas+".<br> Repuestas incorrectas: "+respuetsasIncorrectas+".<br>Excelente trabajo sigue as√≠ y mejora tu puntaje"}function playAction(){var a=document.getElementById("divJuego").scrollHeight;var d=document.body.scrollHeight;var b=d-720;window.scroll({top:b,left:0,behavior:"smooth"})};